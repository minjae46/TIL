<html>
  <head>
    <meta charset="UTF-8" />
    <title>출력결과</title>
  </head>
  <body>
    <script>
      // 투 포인터즈 알고리즘의 아주 대표적인 문제임.
      // 일반적으로는 2중 for문으로 해결할 수 있으나, 투 포인터즈 알고리즘을 활용면 한 번만 for문을 돌면 된다(On).
      function solution(m, arr) {
        let answer = 0;
        // 두 개의 포인터 lt와 rt가 배열 요소를 탐색하면서 더하고 빼기를 반복한다.
        // rt가 요소를 더해가다가 합이 m보다 커지면 lt로 요소를 빼고, m보다 작아지면 rt로 다음 요소를 더해간다.
        // 단, sum과 m이 같을 때에, rt포인터는 두고 lt 포인터를 움직여서 빼기를 먼저 한다는 것에 주의하자.
        let sum = 0;
        let lt = 0;

        for (let rt = 0; rt < arr.length; rt++) {
          sum += arr[rt];
          if (sum === m) answer++; // rt 하나 더할 때마다 m값과 같아지는지 확인.
          // 위 결과 sum < m 이라면, 아래 코드들은 모두 거짓이되므로 맨 위의 for문의 조건문으로 되돌아감.
          while (sum >= m) {
            sum -= arr[lt++];
            if (sum === m) answer++; // lt 하나 뺄 때마다 m값과 같아지는지 확인.
            // 위 결과 sum < m 이 될 때, while의 조건문을 만족하지 않으므로 while 빠져나오게 됨.
          }
        }

        return answer;
      }

      let a = [1, 2, 1, 3, 1, 1, 1, 2];
      console.log(solution(6, a));
    </script>
  </body>
</html>
